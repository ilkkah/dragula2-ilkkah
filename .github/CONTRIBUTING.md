# Contributing to Dragula2

Hey there! Glad you want to chime in. Here's what you need to know.

## Support Requests

If you have a question, make sure it wasn't [already answered][link_issue_question_label].

> Our goal is to provide answers to the most frequently asked questions somewhere in the documentation.

## Reporting Bugs

Bug reports are tricky. However, before submitting it, please:

- Check the project [documentation available online][link_documentation_website]

Then, if it appears that it's a real bug, you may report it using GitHub by following these 3 points:

- Check if [the bug is not already reported][link_issue]!
- A clear title to resume the issue
- A description of the workflow needed to reproduce the bug
- If possible, provide a demo where the bug is isolated and turned into its smallest possible representation. That
    would help a lot!

Thanks for reporting bugs, we'd be lost without you and if you want to start working on a fix, we'll be forever
grateful!

## Feature Requests

We're still considering feature requests. Note that we might not implement the feature you want, or exactly how you want
it. The goal here is to keep making `dragula2` awesome while not making it too bloated.

We also dislike overly specific features and favor more abstract ones you the consumer can build other features upon.

## Development

Development flows are based on `pnpm` scripts.

### Build

To compile a standalone browserify module, use the following command. A minified version will also be produced. The
compiled bundles are placed inside `dist`. Since **these are autogenerated**, please don't include them in your pull
requests.

```shell
pnpm build
```

You can also run the build continuously, _to facilitate development_, with this command.

```shell
pnpm start
```

### Test

Run the command below to execute all tests in a DevTools window through Electron. Note that the DevTools will get
reloaded whenever your test files change, making tests a breeze!

```shell
pnpm test-watch
```

To run tests a single time, simply run the following command. This is used in CI testing.

```shell
pnpm test
```

## Pull Requests

### Creation of commits

To make your life easier, a set of tools is implemented during the installation of the project for development.

**During your commit process**, the [husky library][link_husky_project] will automatically launch certain commands on 2
of the git events:

- commit-msg
  - launch [commitlint][link_commitlint_project]
- pre-commit
  - launch [eslint][link_eslint_project] on `js` files
  - launch [prettier][link_prettier_project] on `css`, `html`, `json` and `md` files

### Writing a Pull Request

First of all, you must decide on what branch your changes will be based depending of the nature of the change.

- stable: regular bugfixes are integrated in this version
- old-stable: security fixes are integrated in this version, regular bugfixes are not backported in it
- development (main branch): new features target this branch

### Sending a Pull Request

When you send a PR, just make sure that:

- You add valid test cases.
- Tests are green.
- You make the PR on the same branch you based your changes on. If you see commits that you did not make in your PR,
    you're doing it wrong.
- Also don't forget to add a comment when you update a PR with a ping @toofff.

The commit messages must follow the [Conventional Commits specification](https://www.conventionalcommits.org/).

The following types are allowed:

- `build`: everything that corresponds to the project's compilation tools
- `chore`: updating dependencies and related changes
- `ci`: CI-related change
- `docs`: change in the documentation
- `feat`: new feature
- `fix`: bug fix
- `perf`: performance optimization
- `refactor`: code restructuring
- `style`: a styling update
- `test`: test-related change

[link_documentation_website]: https://toofff.github.io/dragula2
[link_commitlint_project]: https://commitlint.js.org/#/
[link_husky_project]: https://typicode.github.io/husky/#/
[link_eslint_project]: https://eslint.org/
[link_prettier_project]: https://prettier.io/
[link_issue]: https://github.com/toofff/dragula2/issues
[link_issue_question_label]: https://github.com/toofff/dragula2/issues?q=label%3Aquestion
